{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst isMarkActive_1 = __importDefault(require(\"../queries/isMarkActive\"));\n\nfunction moveRight() {\n  return (state, dispatch) => {\n    const {\n      code_inline\n    } = state.schema.marks;\n    const {\n      empty,\n      $cursor\n    } = state.selection;\n\n    if (!empty || !$cursor) {\n      return false;\n    }\n\n    const {\n      storedMarks\n    } = state.tr;\n\n    if (code_inline) {\n      const insideCode = isMarkActive_1.default(code_inline)(state);\n      const currentPosHasCode = state.doc.rangeHasMark($cursor.pos, $cursor.pos, code_inline);\n      const nextPosHasCode = state.doc.rangeHasMark($cursor.pos, $cursor.pos + 1, code_inline);\n      const exitingCode = !currentPosHasCode && !nextPosHasCode && (!storedMarks || !!storedMarks.length);\n      const enteringCode = !currentPosHasCode && nextPosHasCode && (!storedMarks || !storedMarks.length);\n\n      if (!insideCode && enteringCode) {\n        dispatch(state.tr.addStoredMark(code_inline.create()));\n        return true;\n      }\n\n      if (insideCode && exitingCode) {\n        dispatch(state.tr.removeStoredMark(code_inline));\n        return true;\n      }\n    }\n\n    return false;\n  };\n}\n\nexports.default = moveRight;","map":{"version":3,"sources":["../../src/commands/moveRight.ts"],"names":[],"mappings":";;;;;;;;;;;;AAoBA,MAAA,cAAA,GAAA,eAAA,CAAA,OAAA,CAAA,yBAAA,CAAA,CAAA;;AAEA,SAAwB,SAAxB,GAAiC;AAC/B,SAAO,CAAC,KAAD,EAAqB,QAArB,KAAqE;AAC1E,UAAM;AAAE,MAAA;AAAF,QAAkB,KAAK,CAAC,MAAN,CAAa,KAArC;AACA,UAAM;AAAE,MAAA,KAAF;AAAS,MAAA;AAAT,QAAqB,KAAK,CAAC,SAAjC;;AACA,QAAI,CAAC,KAAD,IAAU,CAAC,OAAf,EAAwB;AACtB,aAAO,KAAP;AACD;;AAED,UAAM;AAAE,MAAA;AAAF,QAAkB,KAAK,CAAC,EAA9B;;AACA,QAAI,WAAJ,EAAiB;AACf,YAAM,UAAU,GAAG,cAAA,CAAA,OAAA,CAAa,WAAb,EAA0B,KAA1B,CAAnB;AACA,YAAM,iBAAiB,GAAG,KAAK,CAAC,GAAN,CAAU,YAAV,CACxB,OAAO,CAAC,GADgB,EAExB,OAAO,CAAC,GAFgB,EAGxB,WAHwB,CAA1B;AAKA,YAAM,cAAc,GAAG,KAAK,CAAC,GAAN,CAAU,YAAV,CACrB,OAAO,CAAC,GADa,EAErB,OAAO,CAAC,GAAR,GAAc,CAFO,EAGrB,WAHqB,CAAvB;AAMA,YAAM,WAAW,GACf,CAAC,iBAAD,IACA,CAAC,cADD,KAEC,CAAC,WAAD,IAAgB,CAAC,CAAC,WAAW,CAAC,MAF/B,CADF;AAIA,YAAM,YAAY,GAChB,CAAC,iBAAD,IACA,cADA,KAEC,CAAC,WAAD,IAAgB,CAAC,WAAW,CAAC,MAF9B,CADF;;AAMA,UAAI,CAAC,UAAD,IAAe,YAAnB,EAAiC;AAC/B,QAAA,QAAQ,CAAC,KAAK,CAAC,EAAN,CAAS,aAAT,CAAuB,WAAW,CAAC,MAAZ,EAAvB,CAAD,CAAR;AAEA,eAAO,IAAP;AACD;;AAGD,UAAI,UAAU,IAAI,WAAlB,EAA+B;AAC7B,QAAA,QAAQ,CAAC,KAAK,CAAC,EAAN,CAAS,gBAAT,CAA0B,WAA1B,CAAD,CAAR;AAEA,eAAO,IAAP;AACD;AACF;;AAED,WAAO,KAAP;AACD,GA9CD;AA+CD;;AAhDD,OAAA,CAAA,OAAA,GAAA,SAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isMarkActive_1 = __importDefault(require(\"../queries/isMarkActive\"));\nfunction moveRight() {\n    return (state, dispatch) => {\n        const { code_inline } = state.schema.marks;\n        const { empty, $cursor } = state.selection;\n        if (!empty || !$cursor) {\n            return false;\n        }\n        const { storedMarks } = state.tr;\n        if (code_inline) {\n            const insideCode = isMarkActive_1.default(code_inline)(state);\n            const currentPosHasCode = state.doc.rangeHasMark($cursor.pos, $cursor.pos, code_inline);\n            const nextPosHasCode = state.doc.rangeHasMark($cursor.pos, $cursor.pos + 1, code_inline);\n            const exitingCode = !currentPosHasCode &&\n                !nextPosHasCode &&\n                (!storedMarks || !!storedMarks.length);\n            const enteringCode = !currentPosHasCode &&\n                nextPosHasCode &&\n                (!storedMarks || !storedMarks.length);\n            if (!insideCode && enteringCode) {\n                dispatch(state.tr.addStoredMark(code_inline.create()));\n                return true;\n            }\n            if (insideCode && exitingCode) {\n                dispatch(state.tr.removeStoredMark(code_inline));\n                return true;\n            }\n        }\n        return false;\n    };\n}\nexports.default = moveRight;\n//# sourceMappingURL=moveRight.js.map"]},"metadata":{},"sourceType":"script"}