{"ast":null,"code":"var _jsxFileName = \"/Users/jia/Desktop/Portfolio/personal-blog/client/src/context/AuthContext.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { createContext } from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext({});\nexport const AuthProvider = ({\n  authService,\n  children\n}) => {\n  _s();\n\n  const [user, setUser] = useState(undefined);\n  useEffect(() => {\n    authService.me().then(data => setUser(data)).catch(console.error);\n    console.log(user);\n  }, [authService, user]);\n\n  const onLogin = async (username, password) => {\n    authService.login(username, password).then(data => setUser(data));\n  };\n\n  const onLogout = async () => {\n    authService.logout().then(() => setUser(undefined));\n  };\n\n  const context = {\n    user,\n    login,\n    logout\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: context,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AuthProvider, \"k7s7A7S01Q+DeTLxmZ7J/UPfNsI=\");\n\n_c = AuthProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"sources":["/Users/jia/Desktop/Portfolio/personal-blog/client/src/context/AuthContext.jsx"],"names":["React","createContext","useEffect","useState","AuthContext","AuthProvider","authService","children","user","setUser","undefined","me","then","data","catch","console","error","log","onLogin","username","password","login","onLogout","logout","context"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAEA,MAAMC,WAAW,gBAAGH,aAAa,CAAC,EAAD,CAAjC;AAEA,OAAO,MAAMI,YAAY,GAAG,CAAC;AAACC,EAAAA,WAAD;AAAcC,EAAAA;AAAd,CAAD,KAA6B;AAAA;;AACvD,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAACO,SAAD,CAAhC;AAEAR,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,WAAW,CACRK,EADH,GAEGC,IAFH,CAESC,IAAD,IAAUJ,OAAO,CAACI,IAAD,CAFzB,EAGGC,KAHH,CAGSC,OAAO,CAACC,KAHjB;AAKED,IAAAA,OAAO,CAACE,GAAR,CAAYT,IAAZ;AACH,GAPQ,EAON,CAACF,WAAD,EAAcE,IAAd,CAPM,CAAT;;AASA,QAAMU,OAAO,GAAG,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAC5Cd,IAAAA,WAAW,CACRe,KADH,CACSF,QADT,EACmBC,QADnB,EAEGR,IAFH,CAESC,IAAD,IAAUJ,OAAO,CAACI,IAAD,CAFzB;AAGD,GAJD;;AAMA,QAAMS,QAAQ,GAAG,YAAY;AAC3BhB,IAAAA,WAAW,CACRiB,MADH,GAEGX,IAFH,CAEQ,MAAMH,OAAO,CAACC,SAAD,CAFrB;AAGD,GAJD;;AAMA,QAAMc,OAAO,GAAG;AACdhB,IAAAA,IADc;AACRa,IAAAA,KADQ;AACDE,IAAAA;AADC,GAAhB;AAIA,sBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEC,OAA7B;AAAA,cACGjB;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CAjCM;;GAAMF,Y;;KAAAA,Y","sourcesContent":["import React, { createContext } from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\n\nconst AuthContext = createContext({});\n\nexport const AuthProvider = ({authService, children}) => {\n  const [user, setUser] = useState(undefined);\n\n  useEffect(() => {\n    authService\n      .me()\n      .then((data) => setUser(data))\n      .catch(console.error);\n\n      console.log(user);\n  }, [authService, user]);\n\n  const onLogin = async (username, password) => {\n    authService\n      .login(username, password)\n      .then((data) => setUser(data));\n  }\n\n  const onLogout = async () => {\n    authService\n      .logout()\n      .then(() => setUser(undefined))\n  }\n\n  const context = {\n    user, login, logout\n  }\n\n  return (\n    <AuthContext.Provider value={context}>\n      {children}\n    </AuthContext.Provider>\n  )\n}"]},"metadata":{},"sourceType":"module"}