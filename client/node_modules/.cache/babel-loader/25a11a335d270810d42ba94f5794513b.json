{"ast":null,"code":"export default class PostService {\n  constructor() {\n    this.baseURL = 'http://localhost:8080';\n  }\n\n  async getPostsByCategory(category) {\n    function trimCategoryStr(category) {\n      const lowerStr = category.toString().toLowerCase();\n      const pureStr = lowerStr.split(\"#\");\n      return pureStr[1];\n    }\n\n    const query = category ? `/category/${trimCategoryStr(category)}` : '';\n    console.log(`${this.baseURL}/post${query}`);\n    const res = await fetch(`${this.baseURL}/post${query}`, {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'GET'\n    });\n    let data;\n\n    try {\n      data = res.json();\n    } catch (err) {\n      console.error(err);\n    }\n\n    return data;\n  }\n\n  async getPostById(id) {\n    const res = await fetch(`${this.baseURL}/post/${id}`, {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'GET'\n    });\n    let data;\n\n    try {\n      data = res.json();\n    } catch (err) {\n      console.error(err);\n    }\n\n    return data;\n  }\n\n  async createPost(category, title, text) {\n    const res = await fetch(`${this.baseURL}/post`, {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify({\n        category,\n        title,\n        text\n      })\n    });\n    let data;\n\n    try {\n      data = res.json();\n    } catch (err) {\n      console.error(err);\n    }\n\n    return data;\n  }\n\n  async updatePost(id, category, title, text) {\n    const res = await fetch(`${this.baseURL}/post/${id}`, {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'PUT',\n      body: JSON.stringify({\n        category,\n        title,\n        text\n      })\n    });\n    let data;\n\n    try {\n      data = res.json();\n    } catch (err) {\n      console.error(err);\n    }\n\n    return data;\n  }\n\n  async deletePost(id) {\n    const res = await fetch(`${this.baseURL}/post/${id}`, {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'DELETE'\n    }); // let data;\n    // try{\n    //   data = res.json();\n    // }catch(err){\n    //   console.error(err)\n    // }\n    // return data;\n  }\n\n  async getCategories() {\n    const res = await fetch(`${this.baseURL}/category`, {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'GET'\n    });\n    let data;\n\n    try {\n      data = res.json();\n    } catch (err) {\n      console.error(err);\n    }\n\n    return data;\n  }\n\n}","map":{"version":3,"sources":["/Users/jia/Desktop/Portfolio/personal-blog/client/src/service/post.js"],"names":["PostService","constructor","baseURL","getPostsByCategory","category","trimCategoryStr","lowerStr","toString","toLowerCase","pureStr","split","query","console","log","res","fetch","headers","method","data","json","err","error","getPostById","id","createPost","title","text","body","JSON","stringify","updatePost","deletePost","getCategories"],"mappings":"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","sourcesContent":["export default class PostService {\n  constructor () {\n    this.baseURL = 'http://localhost:8080';\n  }\n\n  async getPostsByCategory(category) {\n\n    function trimCategoryStr(category) {\n      const lowerStr = category.toString().toLowerCase();\n      const pureStr = lowerStr.split(\"#\");\n      return pureStr[1];\n    }\n\n    const query = category ? `/category/${trimCategoryStr(category)}` : '';\n\n    console.log(`${this.baseURL}/post${query}`)\n\n    const res =  await fetch(`${this.baseURL}/post${query}`, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      method: 'GET'\n    });\n\n    let data;\n    try{\n      data = res.json();\n    }catch(err){\n      console.error(err)\n    }\n\n    return data;\n  }\n\n  async getPostById(id) {\n    const res =  await fetch(`${this.baseURL}/post/${id}`, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      method: 'GET'\n    });\n\n    let data;\n    try{\n      data = res.json();\n    }catch(err){\n      console.error(err)\n    }\n\n    return data;\n  }\n\n  async createPost(category, title, text) {\n    const res =  await fetch(`${this.baseURL}/post`, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      method: 'POST',\n      body: JSON.stringify({ category, title, text })\n    });\n\n    let data;\n    try{\n      data = res.json();\n    }catch(err){\n      console.error(err)\n    }\n\n    return data;\n  }\n\n  async updatePost(id, category, title, text) {\n    const res =  await fetch(`${this.baseURL}/post/${id}`, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      method: 'PUT',\n      body: JSON.stringify({ category, title, text })\n    });\n\n    let data;\n    try{\n      data = res.json();\n    }catch(err){\n      console.error(err)\n    }\n\n    return data;\n  }\n\n  async deletePost(id) {\n    const res =  await fetch(`${this.baseURL}/post/${id}`, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      method: 'DELETE',\n    });\n\n    // let data;\n    // try{\n    //   data = res.json();\n    // }catch(err){\n    //   console.error(err)\n    // }\n\n    // return data;\n  }\n\n  async getCategories() {\n    const res =  await fetch(`${this.baseURL}/category`, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      method: 'GET'\n    });\n\n    let data;\n    try{\n      data = res.json();\n    }catch(err){\n      console.error(err)\n    }\n\n    return data;\n  }\n}"]},"metadata":{},"sourceType":"module"}