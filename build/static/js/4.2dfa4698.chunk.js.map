{"version":3,"sources":["components/BackBtn.jsx","components/PostSetting.jsx","components/Comments.jsx","pages/Post.jsx","components/Loading.jsx","components/Markdown.jsx"],"names":["BackBtn","className","to","React","memo","PostSetting","id","onDelete","pathname","onClick","Comments","commentRef","createRef","useEffect","utterances","document","createElement","Object","entries","src","repo","theme","crossorigin","async","forEach","key","value","setAttribute","current","appendChild","ref","Post","postService","deletePost","params","useParams","history","useHistory","useState","post","setPost","user","useAuth","getPostById","then","data","catch","console","error","length","Loading","title","converted","Date","year","getFullYear","month","toLocaleString","date","getDate","convertDate","createdAt","Markdown","text","token","window","confirm","push","syntaxHighlighter","code","node","inline","children","props","match","exec","style","materialDark","language","PreTag","String","replace","components","remarkPlugins","gfm"],"mappings":"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","file":"static/js/4.2dfa4698.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport '../style/backBtn.scss';\n\n\nconst BackBtn = () => {\n  return (\n    <aside className=\"backBtn\">\n      <div>\n        <Link to='/'>\n          &larr; Back\n        </Link>\n      </div>\n    </aside>\n  )\n}\n\nexport default React.memo(BackBtn);","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport '../style/postSetting.scss';\n\nconst PostSetting = ({id, onDelete}) => {\n  return (\n    <div className=\"postSetting\">\n      <Link to={{ pathname: `/post/${id}/edit` }}>\n        Edit\n      </Link>\n      <div className='deletePostBtn' onClick={() => onDelete(id)}>\n        Delete\n      </div>\n    </div>\n  )\n}\n\nexport default PostSetting;","import React, { createRef, useEffect } from 'react';\nimport '../style/comments.scss';\n\nconst Comments = () => {\n  const commentRef = createRef();\n\n  useEffect(() => {\n    const utterances = document.createElement('script');\n\n    const utterancesConfig = {\n      src: \"https://utteranc.es/client.js\",\n      repo: \"jiasong214/blog-comments\",\n      \"issue-term\": \"pathname\",\n      theme: \"github-light\",\n      crossorigin: \"anonymous\",\n      async: true\n    }\n\n    Object.entries(utterancesConfig).forEach(([key, value]) => {\n      utterances.setAttribute(key, value);\n    });\n\n    commentRef.current.appendChild(utterances);\n  }, []);\n\n  return (\n    <div className='comments' ref={commentRef} />\n  )\n}\n\nexport default Comments;","import React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport BackBtn from '../components/BackBtn';\nimport Markdown from '../components/Markdown';\nimport PostSetting from '../components/PostSetting';\nimport Comments from '../components/Comments';\nimport Loading from '../components/Loading';\nimport '../style/post.scss';\n\n\nconst Post = ({postService, deletePost}) => {\n  const params = useParams();\n  const history = useHistory();\n  const [post, setPost] = useState([]);\n  const { user } = useAuth();\n\n  //get the post\n  useEffect(() => {\n    postService\n      .getPostById(params.id)\n      .then((data) => setPost(data))\n      .catch(console.error());\n  }, [postService, params.id]);\n\n  //최적화하기\n  //delete the post\n  const onDelete = (id) => {\n    if (window.confirm('Do you want to delete this post?')) {\n      postService\n        .deletePost(id)\n        .then(() => deletePost(id))\n        .catch(console.error());\n      \n      history.push(\"/\");\n    }\n  };\n\n  const convertDate = (value) => {\n    const converted = new Date(value);\n    const year = converted.getFullYear();\n    const month = converted.toLocaleString('en', { month: 'long' });;\n    const date = converted.getDate();\n\n    return `${date} ${month}, ${year}`;\n  }\n\n  return (\n    <>\n    <BackBtn />\n    {post.length === 0 ? <Loading /> :\n      (<section className='post'>\n        <h2 className=\"post__title\">{post.title}</h2>\n        <span className=\"post__createdAt\">Posted on {convertDate(post.createdAt)}</span>\n        <div className=\"post__contents\">\n          <Markdown text={post.text} />\n        </div>\n        {user && user.token && <PostSetting id={params.id} onDelete={onDelete} />}\n        <Comments />\n      </section>\n      )\n    }\n    </>\n  )\n}\n\nexport default React.memo(Post);","import React from 'react';\nimport '../style/loading.scss';\n\nconst Loading = () => {\n  return (\n    <div className=\"loading\">\n      <div className=\"ellipsis\">\n        <div>.</div>\n        <div>.</div>\n        <div>.</div>\n        <div>.</div>\n        <div>.</div>\n      </div>\n    </div>\n  )\n}\n\nexport default Loading;","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport {Prism as SyntaxHighlighter} from 'react-syntax-highlighter';\nimport {materialDark} from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport gfm from 'remark-gfm';\nimport '../style/markdown.scss';\n\n\nconst Markdown = ({text}) => {\n\n  const syntaxHighlighter = {\n    code({node, inline, className, children, ...props}) {\n      const match = /language-(\\w+)/.exec(className || '')\n      return !inline && match ? (\n        <SyntaxHighlighter style={materialDark} language={match[1]} PreTag=\"div\" children={String(children).replace(/\\n$/, '')} {...props} />\n      ) : (\n        <code className={className} {...props}>\n          {children}\n        </code>\n      )\n    }\n  }\n\n  return (\n    <div className=\"markdown\">\n      <ReactMarkdown\n        components={syntaxHighlighter}\n        remarkPlugins={[gfm]} \n        children={text} />\n    </div>\n  )\n}\n\nexport default Markdown;"],"sourceRoot":""}