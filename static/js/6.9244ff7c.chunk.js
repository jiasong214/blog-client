(this["webpackJsonpblog-by-jia"]=this["webpackJsonpblog-by-jia"]||[]).push([[6],{164:function(t,e,n){},168:function(t,e,n){},169:function(t,e,n){},170:function(t,e,n){},575:function(t,e,n){"use strict";n.r(e);var c=n(0),s=n.n(c),o=n(29),a=n(10),r=function(t){var e=t.root,n=void 0===e?null:e,s=t.threshold,o=void 0===s?0:s,r=t.rootMargin,i=void 0===r?"0px":r,l=t.onIntersect,j=Object(c.useState)(null),d=Object(a.a)(j,2),b=d[0],u=d[1];return Object(c.useEffect)((function(){var t=new IntersectionObserver(l,{root:n,rootMargin:i,threshold:o});return b&&t.observe(b),function(){return t&&t.disconnect()}}),[b,n,i,o,l]),{setTarget:u}},i=n(167),l=n(165),j=n(166),d=(n(164),n(1)),b=function(){return Object(d.jsx)("section",{className:"intro",children:Object(d.jsxs)("div",{className:"intro__innerbox",children:[Object(d.jsx)("h1",{className:"intro__title",children:"Blog"}),Object(d.jsxs)("p",{className:"intro__text",children:["About how I made this Blog.",Object(d.jsx)("br",{})," by ",Object(d.jsx)("em",{children:"Jia Song"})]}),Object(d.jsxs)("div",{className:"intro__links",children:[Object(d.jsx)("a",{href:"mailto:jiasong214@gmail.com",children:Object(d.jsx)(l.a,{size:18})}),Object(d.jsx)("a",{href:"https://www.linkedin.com/in/jiasong214/",target:"_blank",rel:"noreferrer",children:Object(d.jsx)(j.a,{size:18})}),Object(d.jsx)("a",{href:"https://github.com/jiasong214",target:"_blank",rel:"noreferrer",children:Object(d.jsx)(i.a,{size:18})})]})]})})},u=s.a.memo(b),h=n(21),x=(n(168),function(t){var e=t.id,n=t.index,c=t.title,s=t.createdAt,o=t.text;return Object(d.jsxs)("article",{className:"postCard",children:[Object(d.jsxs)("div",{className:"postCard__leftbox",children:[Object(d.jsx)("span",{className:"postCard__index",children:"No. ".concat(n)}),Object(d.jsx)("span",{className:"postCard__createAt",children:function(t){var e=new Date(t),n=e.getFullYear().toString().substr(2,4),c=e.toLocaleString("en",{month:"short"}),s=e.getDate();return"".concat(s," ").concat(c," ").concat(n)}(s)})]}),Object(d.jsxs)("div",{className:"postCard__middlebox",children:[Object(d.jsx)(h.b,{to:{pathname:"/post/".concat(e)},children:Object(d.jsx)("h3",{className:"postCard__title",children:c})}),Object(d.jsx)("p",{className:"postCard__preview",children:function(t){var e=t.substr(0,180).replaceAll("#","").replaceAll("`","").replaceAll("*","");return"".concat(e,"...")}(o)})]}),Object(d.jsx)("div",{className:"postCard__rightbox",children:Object(d.jsx)(h.b,{to:{pathname:"/post/".concat(e)},className:"postCard__readBtn hover-button",children:"Read more"})})]})}),m=s.a.memo(x),O=n(32),p=n(86),f=function(t){var e=t.posts,n=t.total+1;return Object(d.jsx)(d.Fragment,{children:0===e.length?Object(d.jsx)(O.a,{}):Object(d.jsxs)("section",{className:"postCardsList",children:[e.map((function(t){return n--,Object(d.jsx)(m,{id:t.id,index:n,title:t.title,createdAt:t.createdAt,text:t.text},t.id)})),Object(d.jsx)(p.a,{})]})})},g=s.a.memo(f),_=(n(169),function(){return Object(d.jsx)("aside",{className:"createPostBtn",children:Object(d.jsx)(h.b,{to:"/post/compose",children:"Create new post"})})}),v=s.a.memo(_),N=(n(170),n(574));e.default=function(t){var e=t.posts,n=t.total,s=t.updateCurrentPostIndex,a=Object(o.b)().user,i=Object(c.useCallback)((function(t){e.length>=n||t[0].isIntersecting&&s(e.length)}),[e]),l=r({onIntersect:i}).setTarget;return Object(d.jsxs)(N.a.main,{className:"main",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[Object(d.jsxs)("div",{className:"main-innerbox",children:[Object(d.jsx)(u,{}),Object(d.jsx)(g,{posts:e,total:n})]}),a&&a.token&&Object(d.jsx)(v,{}),Object(d.jsx)("div",{style:{position:"relative",top:"-30vh"},ref:l})]})}},86:function(t,e,n){"use strict";var c=n(0),s=n.n(c),o=n(3),a=n(21),r=n(29),i=(n(87),n(1)),l=function(t){t.onOpenLoginModal;var e=Object(o.f)(),n=Object(r.b)(),c=n.user,s=n.onLogout;return Object(i.jsxs)("footer",{className:"footer",children:[null!==c&&void 0!==c&&c.token?Object(i.jsx)("button",{className:"footer__logout",onClick:function(){window.confirm("Do you want to log out?")&&(s(),e.push("/"))},children:"Logout Admin"}):Object(i.jsx)(a.b,{className:"footer__login",to:"/login",children:"Admin account"}),Object(i.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Jia Song"})]})};e.a=s.a.memo(l)},87:function(t,e,n){}}]);
//# sourceMappingURL=6.9244ff7c.chunk.js.map