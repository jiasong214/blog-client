(this["webpackJsonpblog-by-jia"]=this["webpackJsonpblog-by-jia"]||[]).push([[6],{160:function(t,e,c){},163:function(t,e,c){},164:function(t,e,c){},165:function(t,e,c){},560:function(t,e,c){"use strict";c.r(e);var n=c(0),s=c.n(n),o=c(30),a=c(10),i=function(t){var e=t.root,c=void 0===e?null:e,s=t.threshold,o=void 0===s?0:s,i=t.rootMargin,r=void 0===i?"0px":i,l=t.onIntersect,j=Object(n.useState)(null),d=Object(a.a)(j,2),b=d[0],u=d[1];return Object(n.useEffect)((function(){var t=new IntersectionObserver(l,{root:c,rootMargin:r,threshold:o});return b&&t.observe(b),function(){return t&&t.disconnect()}}),[b,c,r,o,l]),{setTarget:u}},r=c(162),l=c(161),j=(c(160),c(1)),d=function(){return Object(j.jsx)("section",{className:"intro",children:Object(j.jsxs)("div",{className:"intro__innerbox",children:[Object(j.jsx)("h1",{className:"intro__title",children:"Blog"}),Object(j.jsxs)("p",{className:"intro__text",children:["About blabla React Hook useCallback has ... by ",Object(j.jsx)("a",{href:"https://github.com/JiaSong214",target:"_blank",rel:"noreferrer",children:"Jia Song"})]}),Object(j.jsxs)("div",{className:"intro__links",children:[Object(j.jsx)("a",{href:"mailto:jiasong214@gmail.com",children:Object(j.jsx)(l.a,{size:18})}),Object(j.jsx)("a",{href:"https://github.com/jiasong214",children:Object(j.jsx)(r.a,{size:18})})]})]})})},b=s.a.memo(d),u=c(21),h=(c(163),function(t){var e=t.id,c=t.index,n=t.title,s=t.createdAt,o=t.text;return Object(j.jsxs)("article",{className:"postCard",children:[Object(j.jsxs)("div",{className:"postCard__leftbox",children:[Object(j.jsx)("span",{className:"postCard__index",children:"No. ".concat(c)}),Object(j.jsx)("span",{className:"postCard__createAt",children:function(t){var e=new Date(t),c=e.getFullYear().toString().substr(2,4),n=e.toLocaleString("en",{month:"short"}),s=e.getDate();return"".concat(s," ").concat(n," ").concat(c)}(s)})]}),Object(j.jsxs)("div",{className:"postCard__middlebox",children:[Object(j.jsx)(u.b,{to:{pathname:"/post/".concat(e)},children:Object(j.jsx)("h3",{className:"postCard__title",children:n})}),Object(j.jsx)("p",{className:"postCard__preview",children:function(t){var e=t.substr(0,180).replaceAll("#","").replaceAll("`","").replaceAll("*","");return"".concat(e,"...")}(o)})]}),Object(j.jsx)("div",{className:"postCard__rightbox",children:Object(j.jsx)(u.b,{to:{pathname:"/post/".concat(e)},className:"postCard__readBtn",children:"Read more"})})]})}),x=s.a.memo(h),m=c(81),O=c(83),p=function(t){var e=t.posts,c=t.total+1;return Object(j.jsxs)(j.Fragment,{children:[0===e.length&&Object(j.jsx)(m.a,{}),Object(j.jsxs)("section",{className:"postCardsList",children:[e.map((function(t){return c--,Object(j.jsx)(x,{id:t.id,index:c,title:t.title,createdAt:t.createdAt,text:t.text},t.id)})),Object(j.jsx)(O.a,{})]})]})},f=s.a.memo(p),g=(c(164),function(){return Object(j.jsx)("aside",{className:"createPostBtn",children:Object(j.jsx)(u.b,{to:"/post/compose",children:Object(j.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:Object(j.jsx)("g",{children:Object(j.jsx)("path",{d:"M8.8 7.2H5.6V3.9c0-.4-.3-.8-.8-.8s-.7.4-.7.8v3.3H.8c-.4 0-.8.3-.8.8s.3.8.8.8h3.3v3.3c0 .4.3.8.8.8s.8-.3.8-.8V8.7H9c.4 0 .8-.3.8-.8s-.5-.7-1-.7zm15-4.9v-.1h-.1c-.1 0-9.2 1.2-14.4 11.7-3.8 7.6-3.6 9.9-3.3 9.9.3.1 3.4-6.5 6.7-9.2 5.2-1.1 6.6-3.6 6.6-3.6s-1.5.2-2.1.2c-.8 0-1.4-.2-1.7-.3 1.3-1.2 2.4-1.5 3.5-1.7.9-.2 1.8-.4 3-1.2 2.2-1.6 1.9-5.5 1.8-5.7z"})})})})})}),v=s.a.memo(g),_=(c(165),c(559));e.default=function(t){var e=t.posts,c=t.total,s=t.updateCurrentPostIndex,a=Object(o.b)().user,r=Object(n.useCallback)((function(t){e.length>=c||t[0].isIntersecting&&s(e.length)}),[e]),l=i({onIntersect:r}).setTarget;return Object(j.jsxs)(_.a.main,{className:"main",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[Object(j.jsxs)("div",{className:"main-innerbox",children:[Object(j.jsx)(b,{}),Object(j.jsx)(f,{posts:e,total:c})]}),a&&a.token&&Object(j.jsx)(v,{}),Object(j.jsx)("div",{style:{position:"relative",top:"-30vh"},ref:l})]})}},81:function(t,e,c){"use strict";c(0),c(82);var n=c(1);e.a=function(){return console.log("loading..."),Object(n.jsx)("div",{className:"loading",children:Object(n.jsx)("div",{})})}},82:function(t,e,c){},83:function(t,e,c){"use strict";var n=c(0),s=c.n(n),o=c(3),a=c(21),i=c(30),r=(c(84),c(1)),l=function(t){t.onOpenLoginModal;var e=Object(o.f)(),c=Object(i.b)(),n=c.user,s=c.onLogout;return Object(r.jsxs)("footer",{className:"footer",children:[(null===n||void 0===n?void 0:n.token)?Object(r.jsx)("button",{className:"footer__logout",onClick:function(){window.confirm("Do you want to log out?")&&(s(),e.push("/"))},children:"Logout Admin"}):Object(r.jsx)(a.b,{className:"footer__login",to:"/login",children:"Admin account"}),Object(r.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Jia Song"})]})};e.a=s.a.memo(l)},84:function(t,e,c){}}]);
//# sourceMappingURL=6.fd7934f7.chunk.js.map